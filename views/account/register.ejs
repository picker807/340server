<!--Heading: Populate the title-->
<% if (title) { %>
  <h1><%= title %></h1>
  <% } else {
    res.redirect('/')
  } %>

<!--Message placeholder-->
  <% messages() %>
  
<!--Error display-->
  <% if (errors) { %>
    <ul class="notice">
   <% errors.array().forEach(error => { %>
     <li><%= error.msg %></li>
  <%  }) %>
   </ul>
  <% } %>

  <!--Registration form-->
  <div class="registration-container">
    <form id="registration-form" action="/account/register" method="POST">
      <label for="first-name">First Name:</label>
      <input type="text" id="first-name" name="account_firstname" required>
      <label for="last-name">Last Name:</label>
      <input type="text" id="last-name" name="account_lastname" required>
      <label for="email">Email:</label>
      <input type="email" id="email" name="account_email" placeholder="Enter a valid email address" required>
      <label for="password">Password:</label>
      <div class="password-input">
        <input type="password" id="password" name="account_password" pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':\\|,.<>/?]).{12,}$" required>
        <input type="checkbox" id="toggle-password" onclick="togglePasswordVisibility()">
        <label for="toggle-password">Show Password</label>
      </div>
      <input type="submit" value="Register">
    </form>
  </div>
  <p class="password-description">The password must be 12 characters long and contain at least one capital letter, one number, and one special character.</p>
  <script>
    function togglePasswordVisibility() {
      var passwordInput = document.getElementById("password");
      var toggleCheckbox = document.getElementById("toggle-password");
      if (toggleCheckbox.checked) {
        passwordInput.type = "text";
      } else {
        passwordInput.type = "password";
      }
    }
  </script>